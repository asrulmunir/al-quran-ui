<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Al-Quran API Showcase</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Prevent favicon 404 error -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🕌</text></svg>">
    <!-- Arabic font support -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1>🕌 Al-Quran API Showcase</h1>
            <p>Complete demonstration of all API functionalities</p>
        </header>

        <nav class="tab-nav">
            <!-- Mobile hamburger menu button -->
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle navigation menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            
            <!-- Navigation tabs -->
            <div class="tab-nav-content">
                <button class="tab-btn active" data-tab="info">API Info</button>
                <button class="tab-btn" data-tab="chapters">Chapters</button>
                <button class="tab-btn" data-tab="verses">Verses</button>
                <button class="tab-btn" data-tab="compare">Compare</button>
                <button class="tab-btn" data-tab="search">Search Arabic</button>
                <button class="tab-btn" data-tab="search-translation">Search Translation</button>
                <button class="tab-btn" data-tab="translations">Translations</button>
                <button class="tab-btn" data-tab="stats">Statistics</button>
                <button class="tab-btn" data-tab="screenshot">Screenshot</button>
                <button class="tab-btn" data-tab="flashcard">Flashcard</button>
            </div>
        </nav>

        <main>
            <!-- API Info Tab -->
            <div class="tab-content active" id="info">
                <div class="section">
                    <h2>📊 API Information</h2>
                    <p>Click the button below to load basic statistics and information about the Al-Quran API.</p>
                    <button onclick="loadApiInfo()" class="btn primary">Load API Info</button>
                    <div id="api-info-result" class="result-container"></div>
                </div>

                <!-- Data Sources & Attribution Section -->
                <div class="section">
                    <h2>📖 Data Sources & Attribution</h2>
                    <p>This application uses authentic Islamic sources and provides proper attribution to all translators and content providers.</p>
                    
                    <div class="attribution-grid">
                        <div class="attribution-card">
                            <h3>📜 Arabic Text Source</h3>
                            <div class="source-info">
                                <p><strong>Source:</strong> Tanzil.net</p>
                                <p><strong>Text Type:</strong> Uthmani Script</p>
                                <p><strong>License:</strong> Creative Commons Attribution-NoDerivs 3.0</p>
                                <p><strong>Description:</strong> The Uthmani script is based on the Mushaf of Madinah, following the Uthmani Rasm (orthography) as approved by the Islamic authorities.</p>
                                <a href="https://tanzil.net" target="_blank" class="source-link">Visit Tanzil.net →</a>
                            </div>
                        </div>

                        <div class="attribution-card">
                            <h3>🇺🇸 English Translation</h3>
                            <div class="source-info">
                                <p><strong>Translators:</strong> Dr. Muhammad Taqi-ud-Din Al-Hilali and Dr. Muhammad Muhsin Khan</p>
                                <p><strong>Title:</strong> "The Noble Quran"</p>
                                <p><strong>Publisher:</strong> King Fahd Complex for the Printing of the Holy Quran</p>
                                <p><strong>Description:</strong> A widely accepted English translation known for its clarity and adherence to Islamic scholarship.</p>
                            </div>
                        </div>

                        <div class="attribution-card">
                            <h3>🇲🇾 Malay Translation</h3>
                            <div class="source-info">
                                <p><strong>Translator:</strong> Abdullah Muhammad Basmeih</p>
                                <p><strong>Title:</strong> "Tafsir Pimpinan Ar-Rahman"</p>
                                <p><strong>Authority:</strong> Department of Islamic Development Malaysia (JAKIM)</p>
                                <p><strong>Description:</strong> The official Malay translation used in Malaysia, known for its accuracy and scholarly approach.</p>
                            </div>
                        </div>

                        <div class="attribution-card">
                            <h3>🇨🇳 Chinese Translation</h3>
                            <div class="source-info">
                                <p><strong>Translator:</strong> Ma Jian (马坚)</p>
                                <p><strong>Language:</strong> Simplified Chinese (中文 简体)</p>
                                <p><strong>Institution:</strong> Beijing Foreign Studies University</p>
                                <p><strong>Description:</strong> A respected Chinese translation by the renowned Islamic scholar Ma Jian, widely used in Chinese-speaking communities.</p>
                            </div>
                        </div>

                        <div class="attribution-card">
                            <h3>🇮🇳 Tamil Translation</h3>
                            <div class="source-info">
                                <p><strong>Translator:</strong> Jan Turst Foundation</p>
                                <p><strong>Language:</strong> Tamil (தமிழ்)</p>
                                <p><strong>Region:</strong> South India and Sri Lanka</p>
                                <p><strong>Description:</strong> A comprehensive Tamil translation serving the Tamil-speaking Muslim community worldwide.</p>
                            </div>
                        </div>

                        <div class="attribution-card">
                            <h3>🔧 Technical Attribution</h3>
                            <div class="source-info">
                                <p><strong>API Developer:</strong> Asrul Munir</p>
                                <p><strong>API Endpoint:</strong> quran-api.asrulmunir.workers.dev</p>
                                <p><strong>Web App:</strong> Al-Quran API Showcase</p>
                                <p><strong>Platform:</strong> Cloudflare Workers</p>
                                <p><strong>Repository:</strong> <a href="https://github.com/asrulmunir/al-quran-ui" target="_blank">GitHub →</a></p>
                            </div>
                        </div>
                    </div>

                    <div class="islamic-notice">
                        <h3>🕌 Islamic Etiquette Notice</h3>
                        <p>This application handles the Holy Quran with utmost respect and reverence. All content is presented following Islamic guidelines for digital Quranic text. Users are encouraged to maintain proper adab (etiquette) when interacting with the sacred text.</p>
                        <p><strong>May Allah accept this effort and make it beneficial for the Muslim Ummah. Ameen.</strong></p>
                    </div>
                </div>
            </div>

            <!-- Chapters Tab -->
            <div class="tab-content" id="chapters">
                <div class="section">
                    <h2>📚 All Chapters</h2>
                    <p>Browse all 114 chapters of the Quran with basic information. Click on any chapter card to view its complete content.</p>
                    <button onclick="loadChapters()" class="btn primary">Load All Chapters</button>
                    <div id="chapters-result" class="result-container"></div>
                </div>
                
                <div class="section">
                    <h2>📖 Get Specific Chapter</h2>
                    <p>Enter a chapter number to view the complete chapter with all verses in Arabic text.</p>
                    <div class="form-group">
                        <label for="chapter-id">Chapter Number (1-114):</label>
                        <input type="number" id="chapter-id" min="1" max="114" value="1" placeholder="Enter chapter number">
                        <button onclick="loadChapter()" class="btn primary">Get Chapter</button>
                    </div>
                    <div id="chapter-result" class="result-container"></div>
                </div>
            </div>

            <!-- Verses Tab -->
            <div class="tab-content" id="verses">
                <div class="section">
                    <h2>📝 Get Specific Verse</h2>
                    <p>Select a chapter and verse to view detailed information including Arabic text and token analysis.</p>
                    <div class="form-group">
                        <label for="verse-chapter-select">Chapter:</label>
                        <select id="verse-chapter-select" onchange="updateVerseRange()">
                            <option value="">Loading chapters...</option>
                        </select>
                        
                        <label for="verse-number-select">Verse:</label>
                        <select id="verse-number-select">
                            <option value="">Select chapter first</option>
                        </select>
                        
                        <button onclick="loadVerse()" class="btn primary">Get Verse</button>
                    </div>
                    <div class="quick-verses">
                        <h3>Quick Access to Famous Verses:</h3>
                        <button onclick="loadSpecificVerse(1, 1)" class="btn secondary">Bismillah (1:1)</button>
                        <button onclick="loadSpecificVerse(2, 255)" class="btn secondary">Ayat al-Kursi (2:255)</button>
                        <button onclick="loadSpecificVerse(112, 1)" class="btn secondary">Al-Ikhlas (112:1)</button>
                    </div>
                    <div id="verse-result" class="result-container"></div>
                </div>
            </div>

            <!-- Compare Tab -->
            <div class="tab-content" id="compare">
                <div class="section">
                    <h2>🔄 Compare Translations</h2>
                    <p>Select a chapter and verse to view Arabic text alongside English and Malay translations.</p>
                    <div class="form-group">
                        <label for="compare-chapter-select">Chapter:</label>
                        <select id="compare-chapter-select" onchange="updateCompareVerseRange()">
                            <option value="">Loading chapters...</option>
                        </select>
                        
                        <label for="compare-verse-select">Verse:</label>
                        <select id="compare-verse-select">
                            <option value="">Select chapter first</option>
                        </select>
                        
                        <button onclick="compareTranslations()" class="btn primary">Compare Translations</button>
                    </div>
                    <div id="compare-result" class="result-container"></div>
                </div>
            </div>

            <!-- Search Arabic Tab -->
            <div class="tab-content" id="search">
                <div class="section">
                    <h2>🔍 Search Arabic Text</h2>
                    <p>Search for verses containing specific Arabic text with advanced options and translation support.</p>
                    <div class="form-group">
                        <label for="search-query">Arabic Search Query:</label>
                        <input type="text" id="search-query" placeholder="Enter Arabic text (e.g., الله)" dir="rtl">
                        
                        <label for="search-type">Search Type:</label>
                        <select id="search-type">
                            <option value="substring">Substring</option>
                            <option value="exact">Exact</option>
                        </select>
                        
                        <label for="normalize">Normalize Text:</label>
                        <input type="checkbox" id="normalize" checked>
                        
                        <label for="search-limit">Limit Results:</label>
                        <input type="number" id="search-limit" min="1" max="100" value="10" placeholder="Max results">
                        
                        <div class="translation-options">
                            <label for="show-translations">Show Translations:</label>
                            <input type="checkbox" id="show-translations" onchange="toggleTranslationOptions()">
                            
                            <div id="translation-language-options" class="hidden">
                                <label for="translation-language">Translation Language:</label>
                                <select id="translation-language">
                                    <option value="both">English & Malay</option>
                                    <option value="all">All Languages</option>
                                    <option value="en">English Only</option>
                                    <option value="ms">Malay Only</option>
                                    <option value="zh">Chinese Only</option>
                                    <option value="ta">Tamil Only</option>
                                </select>
                            </div>
                        </div>
                        
                        <button onclick="searchArabic()" class="btn primary">Search</button>
                    </div>
                    
                    <div class="quick-search">
                        <h3>Quick Search Terms:</h3>
                        <button onclick="quickSearchArabic('الله')" class="btn secondary">الله (Allah)</button>
                        <button onclick="quickSearchArabic('رب')" class="btn secondary">رب (Lord)</button>
                        <button onclick="quickSearchArabic('رحمن')" class="btn secondary">رحمن (Rahman)</button>
                        <button onclick="quickSearchArabic('رحيم')" class="btn secondary">رحيم (Rahim)</button>
                        <button onclick="quickSearchArabic('بسم')" class="btn secondary">بسم (Bismillah)</button>
                    </div>
                    
                    <div id="search-result" class="result-container"></div>
                </div>
            </div>

            <!-- Search Translation Tab -->
            <div class="tab-content" id="search-translation">
                <div class="section">
                    <h2>🌐 Search Translations</h2>
                    <p>Find verses by searching in English, Malay, Chinese, or Tamil translations - perfect for non-Arabic speakers!</p>
                    <div class="form-group">
                        <label for="translation-query">Search Query:</label>
                        <input type="text" id="translation-query" placeholder="Enter text in English, Malay, Chinese, or Tamil">
                        
                        <label for="translation-lang">Language:</label>
                        <select id="translation-lang">
                            <option value="en">English</option>
                            <option value="ms">Bahasa Melayu</option>
                            <option value="zh">中文 (Chinese)</option>
                            <option value="ta">தமிழ் (Tamil)</option>
                        </select>
                        
                        <label for="translation-type">Search Type:</label>
                        <select id="translation-type">
                            <option value="substring">Substring</option>
                            <option value="exact">Exact</option>
                        </select>
                        
                        <label for="include-arabic">Include Arabic:</label>
                        <input type="checkbox" id="include-arabic" checked>
                        
                        <label for="translation-limit">Limit Results:</label>
                        <input type="number" id="translation-limit" min="1" max="100" value="10" placeholder="Max results">
                        
                        <button onclick="searchTranslation()" class="btn primary">Search</button>
                    </div>
                    
                    <div class="quick-search">
                        <h3>Quick English Search:</h3>
                        <button onclick="quickSearchTranslation('mercy', 'en')" class="btn secondary">Mercy</button>
                        <button onclick="quickSearchTranslation('forgiveness', 'en')" class="btn secondary">Forgiveness</button>
                        <button onclick="quickSearchTranslation('guidance', 'en')" class="btn secondary">Guidance</button>
                        <button onclick="quickSearchTranslation('paradise', 'en')" class="btn secondary">Paradise</button>
                        <button onclick="quickSearchTranslation('prayer', 'en')" class="btn secondary">Prayer</button>
                    </div>
                    
                    <div class="quick-search">
                        <h3>Quick Malay Search:</h3>
                        <button onclick="quickSearchTranslation('kasih', 'ms')" class="btn secondary">Kasih</button>
                        <button onclick="quickSearchTranslation('ampun', 'ms')" class="btn secondary">Ampun</button>
                        <button onclick="quickSearchTranslation('petunjuk', 'ms')" class="btn secondary">Petunjuk</button>
                        <button onclick="quickSearchTranslation('syurga', 'ms')" class="btn secondary">Syurga</button>
                        <button onclick="quickSearchTranslation('solat', 'ms')" class="btn secondary">Solat</button>
                    </div>

                    <div class="quick-search">
                        <h3>Quick Chinese Search:</h3>
                        <button onclick="quickSearchTranslation('慈悲', 'zh')" class="btn secondary">慈悲 (Mercy)</button>
                        <button onclick="quickSearchTranslation('宽恕', 'zh')" class="btn secondary">宽恕 (Forgiveness)</button>
                        <button onclick="quickSearchTranslation('指导', 'zh')" class="btn secondary">指导 (Guidance)</button>
                        <button onclick="quickSearchTranslation('天堂', 'zh')" class="btn secondary">天堂 (Paradise)</button>
                        <button onclick="quickSearchTranslation('祈祷', 'zh')" class="btn secondary">祈祷 (Prayer)</button>
                    </div>

                    <div class="quick-search">
                        <h3>Quick Tamil Search:</h3>
                        <button onclick="quickSearchTranslation('கருணை', 'ta')" class="btn secondary">கருணை (Mercy)</button>
                        <button onclick="quickSearchTranslation('மன்னிப்பு', 'ta')" class="btn secondary">மன்னிப்பு (Forgiveness)</button>
                        <button onclick="quickSearchTranslation('வழிகாட்டுதல்', 'ta')" class="btn secondary">வழிகாட்டுதல் (Guidance)</button>
                        <button onclick="quickSearchTranslation('சொர்க்கம்', 'ta')" class="btn secondary">சொர்க்கம் (Paradise)</button>
                        <button onclick="quickSearchTranslation('தொழுகை', 'ta')" class="btn secondary">தொழுகை (Prayer)</button>
                    </div>
                    
                    <div id="search-translation-result" class="result-container"></div>
                </div>
            </div>

            <!-- Translations Tab -->
            <div class="tab-content" id="translations">
                <div class="section">
                    <h2>🌍 Available Translations</h2>
                    <p>View all available translations with translator information and language details.</p>
                    <button onclick="loadTranslations()" class="btn primary">Load Available Translations</button>
                    <div id="translations-result" class="result-container"></div>
                </div>
            </div>

            <!-- Statistics Tab -->
            <div class="tab-content" id="stats">
                <div class="section">
                    <h2>📈 Quran Statistics</h2>
                    <p>Get comprehensive statistics about the Quran including chapter and verse counts, longest and shortest chapters.</p>
                    <button onclick="loadStatistics()" class="btn primary">Load Statistics</button>
                    <div id="stats-result" class="result-container"></div>
                </div>
            </div>

            <!-- Screenshot Tab -->
            <div class="tab-content" id="screenshot">
                <div class="section">
                    <h2>📸 Screenshot Generator</h2>
                    <p>Create beautiful, shareable images of Quranic verses with customizable translations and formatting.</p>
                    
                    <div class="screenshot-controls">
                        <div class="form-group">
                            <label for="screenshot-chapter-select">Chapter:</label>
                            <select id="screenshot-chapter-select" onchange="updateScreenshotVerseRange()">
                                <option value="">Loading chapters...</option>
                            </select>
                            
                            <label for="screenshot-verse-select">Verse:</label>
                            <select id="screenshot-verse-select">
                                <option value="">Select chapter first</option>
                            </select>
                            
                            <label for="screenshot-translation-select">Translation:</label>
                            <select id="screenshot-translation-select">
                                <option value="en">English (Hilali-Khan)</option>
                                <option value="ms">Malay (Basmeih)</option>
                                <option value="zh">Chinese (Ma Jian)</option>
                                <option value="ta">Tamil (Jan Turst Foundation)</option>
                                <option value="none">Arabic Only</option>
                            </select>
                            
                            <div class="screenshot-options">
                                <label for="screenshot-theme">Theme:</label>
                                <select id="screenshot-theme" onchange="updateScreenshotTheme()">
                                    <option value="light">Light</option>
                                    <option value="dark">Dark</option>
                                    <option value="gradient">Gradient</option>
                                    <option value="islamic">Islamic Green</option>
                                </select>
                                
                                <label for="screenshot-font-size">Font Size:</label>
                                <select id="screenshot-font-size" onchange="updateScreenshotFontSize()">
                                    <option value="small">Small</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="large">Large</option>
                                    <option value="extra-large">Extra Large</option>
                                </select>
                            </div>
                            
                            <button onclick="generateScreenshot()" class="btn primary">Generate Screenshot</button>
                        </div>
                        
                        <div class="quick-verses-screenshot">
                            <h3>Quick Famous Verses:</h3>
                            <button onclick="loadScreenshotVerse(1, 1)" class="btn secondary">Al-Fatihah 1:1</button>
                            <button onclick="loadScreenshotVerse(2, 255)" class="btn secondary">Ayat al-Kursi</button>
                            <button onclick="loadScreenshotVerse(112, 1)" class="btn secondary">Al-Ikhlas</button>
                            <button onclick="loadScreenshotVerse(2, 286)" class="btn secondary">Last verse of Al-Baqarah</button>
                        </div>
                    </div>
                </div>

                <!-- Screenshot Preview Area -->
                <div class="screenshot-preview-container">
                    <div id="screenshot-preview" class="screenshot-preview light medium">
                        <div class="screenshot-content">
                            <div class="verse-header">
                                <div class="chapter-name" id="screenshot-chapter-name">Select a verse to preview</div>
                                <div class="verse-reference" id="screenshot-verse-reference"></div>
                            </div>
                            
                            <div class="arabic-verse" id="screenshot-arabic-text">
                                اختر آية لمعاينتها
                            </div>
                            
                            <div class="translation-verse" id="screenshot-translation-text">
                                Select a verse to see the translation
                            </div>
                            
                            <div class="attribution" id="screenshot-attribution">
                                Al-Quran API Showcase
                            </div>
                        </div>
                    </div>
                </div>
            <!-- Flashcard Tab -->
            <div class="tab-content" id="flashcard">
                <div class="section">
                    <h2>🎯 Arabic Vocabulary Flashcards</h2>
                    <p>Learn Quranic Arabic vocabulary with interactive flashcards. Select a chapter and translation language to start memorizing words.</p>
                    
                    <div class="flashcard-controls">
                        <div class="form-group">
                            <label for="flashcard-chapter-select">Chapter:</label>
                            <select id="flashcard-chapter-select">
                                <option value="">Loading chapters...</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="flashcard-language-select">Translation Language:</label>
                            <select id="flashcard-language-select">
                                <option value="en">English</option>
                                <option value="ms">Malay (Bahasa Melayu)</option>
                                <option value="zh">Chinese (中文)</option>
                                <option value="ta">Tamil (தமிழ்)</option>
                            </select>
                        </div>
                        
                        <div class="flashcard-buttons">
                            <button onclick="startFlashcards()" class="btn primary">Start Flashcards</button>
                            <button onclick="nextFlashcard()" class="btn secondary" id="next-flashcard-btn" style="display: none;">Next Word</button>
                            <button onclick="shuffleFlashcards()" class="btn secondary" id="shuffle-btn" style="display: none;">Shuffle</button>
                            <button onclick="resetFlashcards()" class="btn secondary" id="reset-btn" style="display: none;">Reset</button>
                        </div>
                    </div>
                </div>

                <div class="section" id="flashcard-section" style="display: none;">
                    <div class="flashcard-container">
                        <div class="flashcard-progress">
                            <span id="flashcard-counter">0 / 0</span>
                            <div class="progress-bar">
                                <div class="progress-fill" id="flashcard-progress"></div>
                            </div>
                        </div>
                        
                        <div class="flashcard" id="flashcard" onclick="flipFlashcard()">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <div class="arabic-word" id="flashcard-arabic">Click to start</div>
                                    <div class="word-info">
                                        <span class="verse-location" id="flashcard-location"></span>
                                        <span class="word-position" id="flashcard-position"></span>
                                    </div>
                                </div>
                                <div class="flashcard-back">
                                    <div class="translation-word" id="flashcard-translation">Translation will appear here</div>
                                    <div class="verse-context" id="flashcard-context"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flashcard-navigation">
                            <button onclick="previousFlashcard()" class="nav-btn" id="prev-btn">← Previous</button>
                            <button onclick="flipFlashcard()" class="nav-btn flip-btn">🔄 Flip</button>
                            <button onclick="nextFlashcard()" class="nav-btn" id="next-btn">Next →</button>
                        </div>
                        
                        <div class="flashcard-stats">
                            <div class="stat-item">
                                <span class="stat-label">Chapter:</span>
                                <span class="stat-value" id="current-chapter">-</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Total Words:</span>
                                <span class="stat-value" id="total-words">-</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Language:</span>
                                <span class="stat-value" id="current-language">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <div id="loading" class="loading hidden">
            <div class="spinner"></div>
            <p>Loading...</p>
        </div>

        <div id="error-modal" class="modal hidden">
            <div class="modal-content">
                <span class="close" onclick="closeErrorModal()">&times;</span>
                <h3>Error</h3>
                <p id="error-message"></p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
